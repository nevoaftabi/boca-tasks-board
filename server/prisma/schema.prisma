generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
}

enum Status {
    OPENED
    CLAIMED
    DONE
}

model Task {
    id String @id @default(uuid())
    title String
    description String
    category String
    pay Decimal @db.Decimal(10, 2)
    status Status @default(OPENED)
    createdAt DateTime @default(now())
    claims Claim[]
    city String
    password String
}

model Claim {
    id String @id @default(uuid())
    taskId String @unique
    task Task @relation(fields: [taskId], references: [id], onDelete: Cascade)
    claimerName String
    claimerEmail String
    createdAt DateTime @default(now())
    password String

    // Creates a database index on the taskId column in the Claim table
    // Result: faster lookups for all claim for a task queries, because the db can jump right to matching rows
    // instead of scanning the whole table
    @@index([taskId])
}